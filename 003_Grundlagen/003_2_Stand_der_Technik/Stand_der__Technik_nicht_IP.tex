%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Gesetzt %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Stand der Technik bei nicht netzwerkfähigen Feldgeräten
\section{Stand der Technik bei nicht netzwerkfähigen Feldgeräten}
\label{Stand_Technik_Non_IP}
\sloppy 


\todo{Beschreibung des Kapitels einfügen}


% ## 1. Einordnunug und Begriffsdefinition
% ### 1.1 Was heißt nicht-netzwerkfähige Geräte
\subsection{Einordnung und Begriffsdefinition}
Im Rahmen dieser Arbeit werden unter nicht-netzwerkfähigen Geräten solche Feldgeräte verstanden, die entweder ausschließlich einen kontinuierlichen Messwert bereitstellen oder zwar mit einer Steuerungs- oder Leitebene kommunizieren, selbst jedoch keinen eigenen Netzwerk- oder IP-Stack implementieren.

\todo{Abschnitt einfügen was Netzwerk-Stack ist}.

%%%
Typische Vertreter dieser Geräteklasse sind klassische Prozessfeldgeräte wie Druck-, Temperatur-, Durchfluss- oder Füllstandssensoren sowie Grenz- und Näherungsschalter.
Sie sind üblicherweise über 4-20-mA-Stromschleifen, über HART oder über feldbusbasierte Systeme wie PROFIBUS-PA oder vergleichbare Feldbusse an eine übergeordnete Steuerung angebunden.
In der Automatisierungspyramide sind diese Geräte der Feldebene (Level 0) zuzuordnen, wie in Abbildung \todo{insert ref} dargestellt.
\todo{Was ist die AUtomatisierungspyramide}

\missingfigure{Automatisierungspyramide}

Sie erfassen physikalische Größen direkt im Prozess oder wirken unmittelbar auf diesen ein und bilden damit die Schnittstelle zwischen physikalischer Anlage und digitaler Steuerung.
%%%

%%%
Zu den nicht-netzwerkfähigen Geräten im Sinne dieser Arbeit zählen ebenfalls Feldgeräte, die keine direkte Verbindung zu einer übergeordneten Steuerung besitzen, sondern deren Messwerte ausschließlich lokal bereitgestellt werden, beispielsweise über ein angeschlossenes Anzeige- oder Bediengerät.
In solchen Fällen wird der Messwert ausschließlich von einem Menschen abgelesen, ohne dass das Feldgerät selbst Teil eines automatisierten Kommunikationssystems ist.

Feldgeräte, die über Feldbusse kommunizieren, sind damit zwar grundsätzlich kommunikationsfähig, jedoch nicht im Sinne eines autonomen Netzwerkteilnehmers.
Die Kommunikation erfolgt typischerweise entweder über Punkt-zu-Punkt-Verbindungen (z.~B. klassische 4-20-mA-Schleifen) oder über Feldbusse, bei denen mehrere Feldgeräte gemeinsam an einem Bussegment betrieben werden.
Solche Segmente sind elektrisch und logisch klar abgegrenzt und werden über definierte Kopplungspunkte, etwa Ein-/Ausgangskarten oder Gateway-Module, an die darüberliegenden Steuerungs- oder Leitebenen angebunden.

Aus Sicht des einzelnen Feldgeräts bleibt die Kommunikationsschnittstelle dabei stets auf ein analoges Signal (4-20 mA) und/oder ein nicht-IP-basiertes Feldprotokoll beschränkt. Die Anbindung in IP-basierte Automatisierungs- oder IT-Netze erfolgt ausschließlich indirekt über die vorgelagerte Infrastruktur. Genau diese strukturelle Eigenschaft unterscheidet nicht-netzwerkfähige Feldgeräte grundlegend von modernen IoT- oder IIoT-Geräten und bildet die Ausgangsbasis für die Betrachtung sicherer Kommunikation und sicheren Onboardings in dieser Arbeit.
%%% Passt

% ## 2. Wie kommunizieren nicht netzwerkfähige Feldgeräte
% ### 2.1 Kommunikationskanälee
\subsection{Kommunikation bei nicht netzwerkfähigen Feldgeräten}

Nicht netzwerkfähige Feldgeräte stellen Prozessinformationen auf der Feldebene bereit und kommunizieren dabei typischerweise über Signale und Protokolle, die historisch für Robustheit, einfache Verdrahtung und lange Lebensdauern ausgelegt wurden. \todo{Zitat}

Im Folgenden werden die wichtigsten Kanäle beschrieben.

4-20-mA-Stromschleife:
Der klassische Übertragungsweg in der Prozessindustrie ist die 4-20-mA-Stromschleife. Das Feldgerät kodiert den Messwert als Strom im definierten Bereich, wobei 4 mA typischerweise den unteren Messbereich (oder einen definierten Grundzustand) repräsentieren und 20 mA den oberen Messbereich. Die Übertragung ist kontinuierlich und sehr störsicher; sie erlaubt zudem in vielen Ausführungen, das Feldgerät aus derselben Zweidrahtschleife zu versorgen. Funktional handelt es sich hierbei um einen rein analogen Kanal: Er liefert primär den Messwert (oder bei Aktoren eine Stellvorgabe) und besitzt ohne zusätzliche Maßnahmen weder Adressierung noch Sitzungs- oder Teilnehmerkonzepte. Aus Systemsicht ist die Stromschleife daher ein sehr einfacher, aber zentraler Kommunikationskanal zwischen Feldebene und Steuerung.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Ende
\iffalse
% Auszug aus BSI, 3.2.1.4 Man in the middle Angriff - unverschlüsselte Kommunikationen
Die Hauptpriorität der Sicherheit von OT wird oftmals in der Verfügbarkeit und Zuverlässigkeit der Systeme gesehen.
Aspekte der Vertraulichkeit und Integrität werden unter Umständen nachrangig berücksichtigt.
Bspw. wird häufig auf eine Verschlüsselung der Daten oder Transportwege verzichtet.
Hieraus entsteht die Gefahr das Daten von Angreifern abgefangen sogar manipuliert werden können.
In einem solchen Fall ist die Integrität und die Vertraulichkeit der Daten nicht mehr sichergestellt. 
Ein Angreifer mit physischem Zugriff auf das OT-Netz kann diese Werte somit auslesen, verändern oder neue einspielen (z. B. zur Steuerung einer Maschine oder zur Fälschung von Sensordaten \cite{bsi_-_bundesamt_fur_sicherheit_in_der_informationstechnik_ics_2024}.

% Warum gibt es keine krypto?


% Wie wird geschützt?
% Air Gapped
Als Schutzmaßnahme gegen Cyberangriffe wurden speziell ältere Anlagen eine Zeit lang physikalisch von anderen Netzen getrennt.
Dies gilt insbesondere für solche, in denen Systeme mit bekannten Schwachstellen enthalten sind oder eine unzureichende Zugangskontrolle bieten.
Diese so genannten „Air-Gaps“ bieten jedoch selten das angestrebte Schutzniveau gegen Cyberangriffe.
Denn in vielen Fällen ist weiterhin ein Datenaustausch notwendig oder erwünscht.
Die hierfür eingesetzten Daten können von Angreifern genutzt werden, um die Trennung zu überwinden.

% Geräte im Geschützten Bereich
Feldgeräte werden oft im geschützten Bereich eingesetzt, dass bedeutet, dass keine unbefugten Personen Zutritt zum Feldgerät haben.
Zum Beispiel durch eine Pforte. Angenommen, diese Maßnahme würde tatsächlich den Zutritt von unbefugten Personen wirksam unterbinden, schützt das nicht
gegen Angreifer von Innen, sprich Personen die Zutritt haben.

Zudem gibt es auch Anwendungsszenarien, in dem ein geschützter Bereich nicht möglich ist, und Feldgeräte für jeden frei zugänglich sind.
Als Beispiel sein hier Stauseen genannt.


% Was ändert sich gerade?
% - Mehr Kryptoprozessoren


% Thema lange Einsatzdauer
Ein weiterer Aspekt ist die lange Einsatzdauer industrieller Feldgeräte.
Komponenten der Betriebstechnik (OT) werden in industriellen Steuerungssystemen typischerweise über Zeiträume von 10 bis 15 Jahren oder länger betrieben, deutlich länger als klassische IT-Hardware (Zitat).
Das bedeutet, dass heute noch eine große installierte Basis von Feldgeräten mit älterer, nicht kryptofähiger Hardware im Feld ist.
Die Modernisierung hin zu Geräten mit integrierter Krypto-Hardware und damit die breite Umsetzung kryptografisch gesicherter Verbindungen bis hinunter zum Feldgerät erfolgt daher nur schrittweise im Rahmen von Migrations- und Retrofit-Projekten
und wird durch Lebensdauer, Zertifizierungen (z. B. ATEX/IECEx) und die hohen Kosten von Gerätewechseln zusätzlich verlangsamt.


% Thema begrenzter Strom
Bei vielen industriellen Feldgeräten, insbesondere bei Feldgeräten mit 2-Draht-Technik, ist der verfügbare Energiehaushalt stark begrenzt.
Der Strom für die gesamte Elektronik (Sensorik, A/D-Wandlung, Signalverarbeitung und Kommunikation) muss typischerweise aus wenigen Milliampere der Stromschleife bereitgestellt werden. 
Designrichtlinien wie \cite{johnson_power_2013} nennen für Feldgeräte Budgets von etwa 3~bis 3{,}5~\si{\milli\ampere} für die interne Elektronik, die nicht überschritten werden dürfen, damit der Messbereich von 4~bis 20~\si{\milli\ampere} eingehalten werden kann. %Pass

Kryptographische Verfahren, die rein in Software auf einem Mikrocontroller ohne spezielle Krypto-Peripherie ausgeführt werden,
sind im Vergleich zu klassischer Signalverarbeitung in der Regel deutlich rechen- und energieintensiver.
Die Ausführung von Beispielsweise AES oder ECC in Software, weist eine hohe Anzahl von Taktzyklen auf und entsprechend einen signifikanten Energiebedarf pro Operation, was sich unmittelbar auf Laufzeit und Leistungsaufnahme auswirkt. \todo{Brauch ich hier eine Quelle?}

In Feldgeräten, deren Taktfrequenz zusätzlich bewusst niedrig gewählt wird, um die Verlustleistung zu minimieren, müssen diese kryptographischen Operationen in das ohnehin sehr knappe Leistungsbudget eingepasst werden. 
Dies kann dazu führen, dass entweder die Rechenzeiten für Kryptofunktionen inakzeptabel lang werden, oder der zulässige Energieverbrauch überschritten würde. 
In der Praxis ist dies ein wesentlicher Grund dafür, dass viele existierende Feldgeräte bislang keine oder nur sehr eingeschränkt kryptographische Mechanismen unterstützen. \todo{Quelle finden}.
 
Ein etablierter Ansatz \todo{Formulierung}, um diesen Zielkonflikt zu entschärfen, ist der Einsatz dedizierter Krypto-Peripherie bzw.~ Hardwarebeschleuniger. 
Hierbei werden rechenintensive Primitive wie AES, SHA oder ECC in eigenständigen Hardwareblöcken implementiert, die speziell auf diese Operationen hin optimiert sind und deutlich weniger Taktzyklen sowie weniger Energie pro Operation benötigen als eine reine Software-Implementierung. %\cite{banerjee_energy-efficient_2017,panic_embedded_2016,rozlomii_hardware_2024}
Beispielhafte Messungen für einen STM32U3-Mikrocontroller zeigen diesen Effekt deutlich:
Für AES-128 im Galois/Counter Mode (GCM) wird in der dedizierten Krypto-Hardware ein Datendurchsatz von etwa
9{,}17~\si{\mega\byte\per\second} erreicht, während eine reine Software-Implementierung auf demselben Controller lediglich etwa 0{,}76~\si{\mega\byte\per\second} erzielt.
Für SHA-256 liegen die gemessenen Durchsätze bei 45{,}87~\si{\mega\byte\per\second} in Hardware gegenüber 1{,}355~\si{\mega\byte\per\second} in Software \cite{oryx_embedded_benchmark_nodate}.
Somit ist die Verarbeitung in Hardware ca. 12- bzw.~ 34-mal schneller als in Software.
Während diese Werte natürlich von Controller, Krypo-Peripherie und Implementierung des Algorithmus abhängen, zeigen sie doch deutlich, um welche Größenordnung die Aktionen beschleunigt werden können.
Somit werden auch auf eigentlich leistungsschwacher, energieoptimierter Hardware kryptographische Operationen in vertretbarer Zeit ausführbar, sobald geeignete Hardwarebeschleuniger vorhanden sind. \todo{Wie verhält sich der Energieverbrauch dabei?}


Ein zusätzlicher Vorteil integrierter Krypto-Peripherie liegt in der verbesserten Sicherheit des Gesamtsystems. 
Moderne Mikrocontroller für Industrie- und IoT-Anwendungen kombinieren Hardwarebeschleuniger für symmetrische und asymmetrische Kryptographie mit weiteren Sicherheitsfunktionen wie sicherer Schlüsselerzeugung, zertifizierten Entropiequellen, geschützten Schlüsselspeichern, Anti-Tampering-Mechanismen und sicheren Boot-Mechanismen.
Damit bilden sie die Grundlage dafür, auch in nicht IP-basierten Feldgeräten zertifikatsbasierte Identitäten und kryptographisch gesicherte Verbindungen zu realisieren, ohne die strengen Vorgaben an den Energieverbrauch und die Echtzeitfähigkeit zu verletzen.

\fi